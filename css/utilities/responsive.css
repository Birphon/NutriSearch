/* ==========================================================================
   NutriSearch Responsive Design System
   Mobile-first responsive utilities and media queries
   ========================================================================== */

/* ==========================================================================
   BREAKPOINT DEFINITIONS
   ========================================================================== */

/*
Mobile First Breakpoints:
- xs: 320px+ (small phones)
- sm: 384px+ (large phones)
- md: 448px+ (small tablets)
- lg: 512px+ (large tablets)
- xl: 576px+ (small laptops)
- 2xl: 672px+ (laptops)
- 3xl: 768px+ (desktops)
- 4xl: 896px+ (large desktops)
- 5xl: 1024px+ (wide screens)
- 6xl: 1152px+ (ultra wide)
- 7xl: 1280px+ (4K displays)
*/

/* ==========================================================================
   CONTAINER RESPONSIVE BEHAVIOR
   ========================================================================== */

   .container {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--container-padding);
    padding-right: var(--container-padding);
  }
  
  /* Container breakpoints */
  @media (min-width: 20rem) { /* 320px */
    .container {
      max-width: 100%;
      padding-left: var(--spacing-4);
      padding-right: var(--spacing-4);
    }
  }
  
  @media (min-width: 24rem) { /* 384px */
    .container {
      max-width: 100%;
      padding-left: var(--spacing-5);
      padding-right: var(--spacing-5);
    }
  }
  
  @media (min-width: 36rem) { /* 576px */
    .container {
      max-width: 540px;
      padding-left: var(--container-padding-sm);
      padding-right: var(--container-padding-sm);
    }
  }
  
  @media (min-width: 48rem) { /* 768px */
    .container {
      max-width: 720px;
      padding-left: var(--container-padding-lg);
      padding-right: var(--container-padding-lg);
    }
  }
  
  @media (min-width: 56rem) { /* 896px */
    .container {
      max-width: 860px;
    }
  }
  
  @media (min-width: 64rem) { /* 1024px */
    .container {
      max-width: var(--container-max-width);
    }
  }
  
  @media (min-width: 80rem) { /* 1280px */
    .container {
      max-width: var(--container-max-width);
    }
  }
  
  /* ==========================================================================
     RESPONSIVE VISIBILITY UTILITIES
     ========================================================================== */
  
  /* Hide on mobile (show on tablet+) */
  .hidden-mobile {
    display: none;
  }
  
  @media (min-width: 48rem) {
    .hidden-mobile {
      display: block;
    }
  }
  
  /* Show only on mobile */
  .mobile-only {
    display: block;
  }
  
  @media (min-width: 48rem) {
    .mobile-only {
      display: none;
    }
  }
  
  /* Hide on tablet (show on desktop+) */
  .hidden-tablet {
    display: block;
  }
  
  @media (min-width: 48rem) and (max-width: 63.9375rem) {
    .hidden-tablet {
      display: none;
    }
  }
  
  /* Show only on tablet */
  .tablet-only {
    display: none;
  }
  
  @media (min-width: 48rem) and (max-width: 63.9375rem) {
    .tablet-only {
      display: block;
    }
  }
  
  /* Hide on desktop */
  .hidden-desktop {
    display: block;
  }
  
  @media (min-width: 64rem) {
    .hidden-desktop {
      display: none;
    }
  }
  
  /* Show only on desktop */
  .desktop-only {
    display: none;
  }
  
  @media (min-width: 64rem) {
    .desktop-only {
      display: block;
    }
  }
  
  /* ==========================================================================
     RESPONSIVE GRID UTILITIES
     ========================================================================== */
  
  /* Grid columns responsive */
  .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  
  @media (min-width: 24rem) {
    .sm\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
    .sm\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  }
  
  @media (min-width: 48rem) {
    .md\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
    .md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .md\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  }
  
  @media (min-width: 64rem) {
    .lg\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
    .lg\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .lg\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .lg\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  }
  
  @media (min-width: 80rem) {
    .xl\:grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
    .xl\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .xl\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .xl\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    .xl\:grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
  }
  
  /* Auto-fit responsive grids */
  .grid-auto-fit-sm { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
  .grid-auto-fit-md { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
  .grid-auto-fit-lg { grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); }
  
  /* ==========================================================================
     RESPONSIVE FLEXBOX UTILITIES
     ========================================================================== */
  
  /* Flex direction responsive */
  @media (max-width: 47.9375rem) {
    .flex-col-mobile {
      flex-direction: column;
    }
    
    .flex-row-mobile {
      flex-direction: row;
    }
  }
  
  @media (min-width: 48rem) {
    .md\:flex-row {
      flex-direction: row;
    }
    
    .md\:flex-col {
      flex-direction: column;
    }
  }
  
  @media (min-width: 64rem) {
    .lg\:flex-row {
      flex-direction: row;
    }
    
    .lg\:flex-col {
      flex-direction: column;
    }
  }
  
  /* Flex wrap responsive */
  @media (max-width: 47.9375rem) {
    .flex-wrap-mobile {
      flex-wrap: wrap;
    }
    
    .flex-nowrap-mobile {
      flex-wrap: nowrap;
    }
  }
  
  /* ==========================================================================
     RESPONSIVE TEXT ALIGNMENT
     ========================================================================== */
  
  @media (max-width: 47.9375rem) {
    .text-center-mobile {
      text-align: center;
    }
    
    .text-left-mobile {
      text-align: left;
    }
  }
  
  @media (min-width: 48rem) {
    .md\:text-left {
      text-align: left;
    }
    
    .md\:text-center {
      text-align: center;
    }
    
    .md\:text-right {
      text-align: right;
    }
  }
  
  @media (min-width: 64rem) {
    .lg\:text-left {
      text-align: left;
    }
    
    .lg\:text-center {
      text-align: center;
    }
    
    .lg\:text-right {
      text-align: right;
    }
  }
  
  /* ==========================================================================
     RESPONSIVE SPACING UTILITIES
     ========================================================================== */
  
  /* Mobile spacing adjustments */
  @media (max-width: 47.9375rem) {
    .mobile-spacing {
      padding: var(--spacing-4);
    }
    
    .mobile-spacing-sm {
      padding: var(--spacing-3);
    }
    
    .mobile-spacing-lg {
      padding: var(--spacing-6);
    }
    
    .mobile-gap-sm {
      gap: var(--spacing-3);
    }
    
    .mobile-gap {
      gap: var(--spacing-4);
    }
    
    .mobile-gap-lg {
      gap: var(--spacing-6);
    }
  }
  
  /* Tablet spacing */
  @media (min-width: 48rem) and (max-width: 63.9375rem) {
    .tablet-spacing {
      padding: var(--spacing-6);
    }
    
    .tablet-gap {
      gap: var(--spacing-5);
    }
  }
  
  /* Desktop spacing */
  @media (min-width: 64rem) {
    .desktop-spacing {
      padding: var(--spacing-8);
    }
    
    .desktop-gap {
      gap: var(--spacing-6);
    }
  }
  
  /* ==========================================================================
     RESPONSIVE TYPOGRAPHY
     ========================================================================== */
  
  /* Responsive font sizes */
  @media (max-width: 47.9375rem) {
    .mobile-text-sm {
      font-size: var(--font-size-sm);
    }
    
    .mobile-text-base {
      font-size: var(--font-size-base);
    }
    
    .mobile-text-lg {
      font-size: var(--font-size-lg);
    }
    
    .mobile-text-xl {
      font-size: var(--font-size-xl);
    }
    
    .mobile-text-2xl {
      font-size: var(--font-size-2xl);
    }
  }
  
  @media (min-width: 48rem) {
    .md\:text-base {
      font-size: var(--font-size-base);
    }
    
    .md\:text-lg {
      font-size: var(--font-size-lg);
    }
    
    .md\:text-xl {
      font-size: var(--font-size-xl);
    }
    
    .md\:text-2xl {
      font-size: var(--font-size-2xl);
    }
    
    .md\:text-3xl {
      font-size: var(--font-size-3xl);
    }
  }
  
  @media (min-width: 64rem) {
    .lg\:text-lg {
      font-size: var(--font-size-lg);
    }
    
    .lg\:text-xl {
      font-size: var(--font-size-xl);
    }
    
    .lg\:text-2xl {
      font-size: var(--font-size-2xl);
    }
    
    .lg\:text-3xl {
      font-size: var(--font-size-3xl);
    }
    
    .lg\:text-4xl {
      font-size: var(--font-size-4xl);
    }
    
    .lg\:text-5xl {
      font-size: var(--font-size-5xl);
    }
  }
  
  /* ==========================================================================
     RESPONSIVE COMPONENT ADJUSTMENTS
     ========================================================================== */
  
  /* Mobile-first navigation adjustments */
  @media (max-width: 47.9375rem) {
    .nav-mobile {
      flex-direction: column;
      gap: var(--spacing-2);
    }
    
    .nav-mobile .nav-links {
      flex-direction: column;
      width: 100%;
      gap: var(--spacing-1);
    }
    
    .nav-mobile .nav-links a {
      padding: var(--spacing-3) var(--spacing-4);
      text-align: center;
      width: 100%;
    }
  }
  
  /* Mobile card adjustments */
  @media (max-width: 47.9375rem) {
    .card-mobile {
      padding: var(--spacing-4);
      border-radius: var(--radius-lg);
    }
    
    .card-mobile .card-actions {
      flex-direction: column;
      gap: var(--spacing-2);
    }
    
    .card-mobile .card-actions .btn {
      width: 100%;
    }
  }
  
  /* Mobile form adjustments */
  @media (max-width: 47.9375rem) {
    .form-mobile {
      gap: var(--spacing-3);
    }
    
    .form-mobile .form-row {
      grid-template-columns: 1fr;
      gap: var(--spacing-3);
    }
    
    .form-mobile .form-group-inline {
      flex-direction: column;
      align-items: stretch;
      gap: var(--spacing-2);
    }
  }
  
  /* Mobile button adjustments */
  @media (max-width: 47.9375rem) {
    .btn-mobile-full {
      width: 100%;
      justify-content: center;
    }
    
    .btn-group-mobile {
      flex-direction: column;
      width: 100%;
    }
    
    .btn-group-mobile .btn {
      width: 100%;
      margin-bottom: var(--spacing-2);
    }
    
    .btn-group-mobile .btn:last-child {
      margin-bottom: 0;
    }
  }
  
  /* ==========================================================================
     RESPONSIVE MODAL ADJUSTMENTS
     ========================================================================== */
  
  @media (max-width: 47.9375rem) {
    .modal-mobile {
      padding: var(--spacing-2);
      align-items: flex-end;
    }
    
    .modal-mobile .modal-content {
      max-width: 100%;
      max-height: 95vh;
      border-radius: var(--radius-lg) var(--radius-lg) 0 0;
      margin: 0;
    }
    
    .modal-mobile .modal-header,
    .modal-mobile .modal-body,
    .modal-mobile .modal-footer {
      padding: var(--spacing-4);
    }
    
    .modal-mobile .modal-actions {
      flex-direction: column-reverse;
      gap: var(--spacing-2);
    }
    
    .modal-mobile .modal-actions .btn {
      width: 100%;
    }
  }
  
  /* ==========================================================================
     RESPONSIVE TABLE BEHAVIOR
     ========================================================================== */
  
  @media (max-width: 47.9375rem) {
    .table-responsive {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    .table-mobile-stack {
      display: block;
    }
    
    .table-mobile-stack thead {
      display: none;
    }
    
    .table-mobile-stack tbody,
    .table-mobile-stack tr,
    .table-mobile-stack td {
      display: block;
      width: 100%;
    }
    
    .table-mobile-stack tr {
      margin-bottom: var(--spacing-4);
      padding: var(--spacing-4);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      background-color: var(--color-background);
    }
    
    .table-mobile-stack td {
      text-align: left;
      padding: var(--spacing-2) 0;
      border: none;
      position: relative;
      padding-left: 40%;
    }
    
    .table-mobile-stack td::before {
      content: attr(data-label);
      position: absolute;
      left: 0;
      width: 35%;
      font-weight: var(--font-weight-semibold);
      color: var(--color-text-secondary);
      font-size: var(--font-size-sm);
    }
  }
  
  /* ==========================================================================
     RESPONSIVE NUTRITION GRID
     ========================================================================== */
  
  @media (max-width: 47.9375rem) {
    .nutrition-grid-mobile {
      grid-template-columns: 1fr;
      gap: var(--spacing-3);
    }
    
    .nutrition-controls-mobile {
      flex-direction: column;
      gap: var(--spacing-2);
      align-items: stretch;
    }
    
    .toggle-switch-container-mobile {
      justify-content: center;
    }
  }
  
  @media (min-width: 48rem) and (max-width: 63.9375rem) {
    .nutrition-grid-tablet {
      grid-template-columns: repeat(2, 1fr);
      gap: var(--spacing-4);
    }
  }
  
  @media (min-width: 64rem) {
    .nutrition-grid-desktop {
      grid-template-columns: repeat(3, 1fr);
      gap: var(--spacing-6);
    }
  }
  
  /* ==========================================================================
     RESPONSIVE MEAL PLANNER LAYOUT
     ========================================================================== */
  
  @media (max-width: 47.9375rem) {
    .control-table-mobile {
      grid-template-rows: auto;
      gap: var(--spacing-3);
    }
    
    .control-row-mobile {
      grid-template-columns: 1fr;
      gap: var(--spacing-3);
    }
    
    .meal-checkboxes-mobile {
      grid-template-columns: 1fr;
      gap: var(--spacing-1);
    }
    
    .meals-grid-mobile {
      grid-template-columns: 1fr;
      gap: var(--spacing-4);
    }
  }
  
  @media (min-width: 48rem) and (max-width: 63.9375rem) {
    .control-row-tablet {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .control-row-tablet .control-cell:last-child {
      grid-column: 1 / -1;
    }
    
    .meals-grid-tablet {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  /* ==========================================================================
     RESPONSIVE SEARCH LAYOUT
     ========================================================================== */
  
  @media (max-width: 47.9375rem) {
    .search-layout-mobile {
      grid-template-columns: 1fr;
      gap: var(--spacing-4);
    }
    
    .profiles-sidebar-mobile {
      position: static;
      max-height: 300px;
    }
    
    .food-results-mobile {
      grid-template-columns: 1fr;
      gap: var(--spacing-4);
    }
  }
  
  @media (min-width: 48rem) and (max-width: 63.9375rem) {
    .search-layout-tablet {
      grid-template-columns: 280px 1fr;
      gap: var(--spacing-6);
    }
    
    .food-results-tablet {
      grid-template-columns: repeat(2, 1fr);
    }
  }
  
  /* ==========================================================================
     RESPONSIVE PRINT ADJUSTMENTS
     ========================================================================== */
  
  @media print {
    .container {
      max-width: 100% !important;
      padding-left: 0 !important;
      padding-right: 0 !important;
    }
    
    .hidden-print {
      display: none !important;
    }
    
    .print-full-width {
      width: 100% !important;
      max-width: 100% !important;
    }
    
    .print-break-before {
      page-break-before: always;
    }
    
    .print-break-after {
      page-break-after: always;
    }
    
    .print-break-inside-avoid {
      page-break-inside: avoid;
    }
    
    /* Grid adjustments for print */
    .grid-cols-1,
    .grid-cols-2,
    .grid-cols-3,
    .grid-cols-4 {
      grid-template-columns: repeat(2, 1fr) !important;
      gap: var(--spacing-4) !important;
    }
    
    /* Typography adjustments for print */
    .print-text-sm {
      font-size: var(--font-size-sm) !important;
    }
    
    .print-text-base {
      font-size: var(--font-size-base) !important;
    }
  }
  
  /* ==========================================================================
     RESPONSIVE IMAGE HANDLING
     ========================================================================== */
  
  .img-responsive {
    max-width: 100%;
    height: auto;
    display: block;
  }
  
  @media (max-width: 47.9375rem) {
    .img-mobile-full {
      width: 100%;
      object-fit: cover;
    }
    
    .img-mobile-contain {
      object-fit: contain;
    }
  }
  
  /* ==========================================================================
     RESPONSIVE VIDEO HANDLING
     ========================================================================== */
  
  .video-responsive {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 aspect ratio */
    height: 0;
    overflow: hidden;
  }
  
  .video-responsive iframe,
  .video-responsive video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  
  /* ==========================================================================
     TOUCH-FRIENDLY RESPONSIVE ADJUSTMENTS
     ========================================================================== */
  
  @media (max-width: 47.9375rem) {
    /* Increase touch targets on mobile */
    .touch-target {
      min-height: 44px;
      min-width: 44px;
    }
    
    .btn,
    button,
    input[type="button"],
    input[type="submit"],
    .touch-target {
      min-height: 44px;
    }
    
    /* Increase tap areas for better mobile UX */
    .mobile-tap-area {
      padding: var(--spacing-3);
      margin: var(--spacing-1);
    }
    
    /* Mobile-friendly scrolling */
    .mobile-scroll {
      -webkit-overflow-scrolling: touch;
      overflow-x: auto;
    }
  }
  
  /* ==========================================================================
     RESPONSIVE ACCESSIBILITY ADJUSTMENTS
     ========================================================================== */
  
  @media (prefers-reduced-motion: reduce) {
    .responsive-no-motion * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  @media (prefers-contrast: high) {
    .responsive-high-contrast {
      border-width: 2px;
    }
    
    .responsive-high-contrast:hover,
    .responsive-high-contrast:focus {
      border-width: 3px;
    }
  }
  
  /* ==========================================================================
     LANDSCAPE/PORTRAIT ORIENTATIONS
     ========================================================================== */
  
  @media (orientation: landscape) and (max-height: 30rem) {
    .landscape-adjust {
      padding-top: var(--spacing-2);
      padding-bottom: var(--spacing-2);
    }
    
    .landscape-header {
      min-height: var(--header-height-mobile);
    }
  }
  
  @media (orientation: portrait) {
    .portrait-stack {
      flex-direction: column;
    }
  }
  
  /* ==========================================================================
     RESPONSIVE UTILITY CLASSES
     ========================================================================== */
  
  /* Width utilities responsive */
  @media (max-width: 47.9375rem) {
    .w-full-mobile {
      width: 100%;
    }
    
    .w-auto-mobile {
      width: auto;
    }
  }
  
  /* Height utilities responsive */
  @media (max-width: 47.9375rem) {
    .h-auto-mobile {
      height: auto;
    }
    
    .min-h-0-mobile {
      min-height: 0;
    }
  }
  
  /* Position utilities responsive */
  @media (max-width: 47.9375rem) {
    .static-mobile {
      position: static;
    }
    
    .relative-mobile {
      position: relative;
    }
  }
  
  /* Z-index responsive adjustments */
  @media (max-width: 47.9375rem) {
    .z-mobile-modal {
      z-index: var(--z-index-modal);
    }
    
    .z-mobile-header {
      z-index: var(--z-index-sticky);
    }
  }